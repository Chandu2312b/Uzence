import{j as e}from"./jsx-runtime-dsZ8nYAA.js";import{r as o}from"./index-GiUgBvb1.js";import{c as d,E as B}from"./eye-DLpTR1sK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=d("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=d("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=d("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=d("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=d("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=d("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=d("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=d("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=d("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),re=({data:T,columns:i,pageSize:y=10,searchable:L=!0,filterable:R=!0,exportable:V=!1,selectable:w=!1,actions:n,onRowClick:f,className:z="",emptyMessage:$="No data available",loading:P=!1})=>{const[c,v]=o.useState(1),[j,A]=o.useState(""),[x,M]=o.useState(null),[g,D]=o.useState(null),[N,F]=o.useState({}),[m,k]=o.useState(new Set),[C,E]=o.useState(!1),q=o.useMemo(()=>{let t=[...T];return j&&(t=t.filter(a=>i.some(s=>{const r=a[s.key];return String(r).toLowerCase().includes(j.toLowerCase())}))),Object.entries(N).forEach(([a,s])=>{s&&(t=t.filter(r=>String(r[a]).toLowerCase().includes(s.toLowerCase())))}),t},[T,j,N,i]),p=o.useMemo(()=>!x||!g?q:[...q].sort((t,a)=>{const s=t[x],r=a[x];if(s===r)return 0;const l=s<r?-1:1;return g==="asc"?l:-l}),[q,x,g]),h=o.useMemo(()=>{const t=(c-1)*y;return p.slice(t,t+y)},[p,c,y]),u=Math.ceil(p.length/y),U=t=>{const a=i.find(s=>s.key===t);a!=null&&a.sortable&&(x===t?(D(s=>s==="asc"?"desc":s==="desc"?null:"asc"),g==="desc"&&M(null)):(M(t),D("asc")))},H=t=>{const a=new Set(m);a.has(t)?a.delete(t):a.add(t),k(a)},I=()=>{m.size===h.length?k(new Set):k(new Set(Array.from({length:h.length},(t,a)=>a)))},_=()=>{const t=i.map(S=>S.header).join(","),a=p.map(S=>i.map(Q=>`"${S[Q.key]||""}"`).join(",")),s=[t,...a].join(`
`),r=new Blob([s],{type:"text/csv"}),l=URL.createObjectURL(r),b=document.createElement("a");b.href=l,b.download="data-export.csv",b.click(),URL.revokeObjectURL(l)},O=t=>x!==t?null:g==="asc"?e.jsx(W,{size:16,className:"text-blue-600"}):e.jsx(Z,{size:16,className:"text-blue-600"});return P?e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"Loading data..."})]})}):e.jsxs("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden ${z}`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Data Table (",p.length," items)"]}),m.size>0&&e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md text-sm font-medium",children:[m.size," selected"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[L&&e.jsxs("div",{className:"relative",children:[e.jsx(K,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:j,onChange:t=>A(t.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),R&&e.jsx("button",{onClick:()=>E(!C),className:`p-2 rounded-lg border transition-colors ${C?"bg-blue-100 border-blue-300 text-blue-700":"border-gray-300 hover:bg-gray-50"}`,children:e.jsx(Y,{size:20})}),V&&e.jsx("button",{onClick:_,className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Export to CSV",children:e.jsx(X,{size:20})})]})]}),C&&R&&e.jsx("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:i.filter(t=>t.filterable!==!1).map(t=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Filter ",t.header]}),e.jsx("input",{type:"text",placeholder:`Filter ${t.header}...`,value:N[t.key]||"",onChange:a=>F(s=>({...s,[t.key]:a.target.value})),className:"w-full px-3 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},t.key))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[w&&e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:h.length>0&&m.size===h.length,onChange:I,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.map(t=>e.jsx("th",{className:`px-4 py-3 text-${t.align||"left"} text-xs font-medium text-gray-500 uppercase tracking-wider ${t.sortable?"cursor-pointer hover:bg-gray-100":""}`,style:{width:t.width},onClick:()=>t.sortable&&U(t.key),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:t.header}),t.sortable&&O(t.key)]})},t.key)),n&&e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:i.length+(w?1:0)+(n?1:0),className:"px-4 py-12 text-center text-gray-500",children:$})}):h.map((t,a)=>{var s;return e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${f?"cursor-pointer":""} ${m.has(a)?"bg-blue-50":""}`,onClick:()=>f==null?void 0:f(t),children:[w&&e.jsx("td",{className:"px-4 py-4",children:e.jsx("input",{type:"checkbox",checked:m.has(a),onChange:r=>{r.stopPropagation(),H(a)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.map(r=>e.jsx("td",{className:`px-4 py-4 text-sm text-gray-900 text-${r.align||"left"}`,children:r.render?r.render(t[r.key],t):t[r.key]},r.key)),n&&e.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.view&&e.jsx("button",{onClick:r=>{var l;r.stopPropagation(),(l=n.view)==null||l.call(n,t)},className:"text-blue-600 hover:text-blue-800 p-1 rounded transition-colors",title:"View",children:e.jsx(B,{size:16})}),n.edit&&e.jsx("button",{onClick:r=>{var l;r.stopPropagation(),(l=n.edit)==null||l.call(n,t)},className:"text-green-600 hover:text-green-800 p-1 rounded transition-colors",title:"Edit",children:e.jsx(ee,{size:16})}),n.delete&&e.jsx("button",{onClick:r=>{var l;r.stopPropagation(),(l=n.delete)==null||l.call(n,t)},className:"text-red-600 hover:text-red-800 p-1 rounded transition-colors",title:"Delete",children:e.jsx(te,{size:16})}),(s=n.custom)==null?void 0:s.map((r,l)=>e.jsx("button",{onClick:b=>{b.stopPropagation(),r.onClick(t)},className:r.className||"text-gray-600 hover:text-gray-800 p-1 rounded transition-colors",title:r.label,children:r.icon},l))]})})]},a)})})]})}),u>1&&e.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(c-1)*y+1," to ",Math.min(c*y,p.length)," of ",p.length," entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>v(t=>Math.max(t-1,1)),disabled:c===1,className:"p-2 rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(G,{size:16})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[Array.from({length:Math.min(5,u)},(t,a)=>{const s=a+1;return e.jsx("button",{onClick:()=>v(s),className:`px-3 py-1 rounded-md text-sm transition-colors ${c===s?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:s},s)}),u>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{onClick:()=>v(u),className:`px-3 py-1 rounded-md text-sm transition-colors ${c===u?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:u})]})]}),e.jsx("button",{onClick:()=>v(t=>Math.min(t+1,u)),disabled:c===u,className:"p-2 rounded-md border border-gray-300 text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(J,{size:16})})]})]})})]})};re.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},columns:{required:!0,tsType:{name:"Array",elements:[{name:"Column"}],raw:"Column[]"},description:""},pageSize:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"10",computed:!1}},searchable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},filterable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},exportable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selectable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},actions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  view?: (row: any) => void;
  edit?: (row: any) => void;
  delete?: (row: any) => void;
  custom?: Array<{
    label: string;
    icon?: React.ReactNode;
    onClick: (row: any) => void;
    className?: string;
  }>;
}`,signature:{properties:[{key:"view",value:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}},required:!1}},{key:"edit",value:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}},required:!1}},{key:"delete",value:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}},required:!1}},{key:"custom",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  icon?: React.ReactNode;
  onClick: (row: any) => void;
  className?: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"icon",value:{name:"ReactReactNode",raw:"React.ReactNode",required:!1}},{key:"onClick",value:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}},required:!0}},{key:"className",value:{name:"string",required:!1}}]}}],raw:`Array<{
  label: string;
  icon?: React.ReactNode;
  onClick: (row: any) => void;
  className?: string;
}>`,required:!1}}]}},description:""},onRowClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(row: any) => void",signature:{arguments:[{type:{name:"any"},name:"row"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},emptyMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No data available'",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{re as D};
